!function(r,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.jsunicode=e():r.jsunicode=e()}(this,function(){return function(r){function e(t){if(n[t])return n[t].exports;var o=n[t]={exports:{},id:t,loaded:!1};return r[t].call(o.exports,o,o.exports,e),o.loaded=!0,o.exports}var n={};return e.m=r,e.c=n,e.p="",e(0)}([function(r,e,n){!function(){"use strict";var r=n(1),t=n(5),o=n(6),i=n(3);r.register("UTF-8",o),r.register("UTF-16",t),r.register("UTF-16BE",t),e.decode=r.decode,e.encode=r.encode,e.byteReader=i}()},function(r,e,n){!function(){"use strict";var r=n(2),t=n(3),o=n(4),i={},u=function(r,e){i[r]=e},c=function(r){return i[r]},f=function(r,e){for(var n=[],t=!1,o=null,i=function(r){if(e)throw r;n.push(65533)},u=0;u<r.length;u++){var c=r.charCodeAt(u);c>65535||c<0?(i("String contains invalid character data"),t&&(n.push(65533),t=!1)):c<=55295||c>=57344?(t===!0&&(i("Unmatched surrogate pair in string"),t=!1),n.push(c)):t?(c<56320?i("Low surrogate value not valid"):n.push(65536+(o-55296<<10)+c-56320),t=!1):c>=56320?i("Unexpected high surrogate found"):(t=!0,o=c)}return n},a=function(e,n){if(null===e||void 0===e)return e;n=r({},{encoding:"UTF-8",byteWriter:"hex",throwOnError:!1},n||{});var t=c(n.encoding);if(void 0===c)throw"Unrecognized encoding: "+n.encoding;var i=o.get(n.byteWriter);if(void 0===i)throw"Unrecognized byte writer name: "+n.byteWriter;var u=f(e,n.throwOnError);t.encode(u,i,n);var a=i.finish();return a},d=function(e,n){if(null===e||void 0===e)return e;n=r({},{encoding:"UTF-8",byteReader:"hex",throwOnError:!1},n||{});var o=c(n.encoding);if(void 0===c)throw"Unrecognized encoding: "+n.encoding;var i=t.get(n.byteReader);if(void 0===i)throw"Unrecognized byte reader name: "+n.byteReader;i.begin(e);var u=o.decode(i,n);return u};e.register=u,e.get=c,e.decode=d,e.encode=a}()},function(r,e){"use strict";var n=Object.prototype.hasOwnProperty,t=Object.prototype.toString,o=function(r){return"function"==typeof Array.isArray?Array.isArray(r):"[object Array]"===t.call(r)},i=function(r){if(!r||"[object Object]"!==t.call(r))return!1;var e=n.call(r,"constructor"),o=r.constructor&&r.constructor.prototype&&n.call(r.constructor.prototype,"isPrototypeOf");if(r.constructor&&!e&&!o)return!1;var i;for(i in r);return"undefined"==typeof i||n.call(r,i)};r.exports=function r(){var e,n,t,u,c,f,a=arguments[0],d=1,s=arguments.length,l=!1;for("boolean"==typeof a?(l=a,a=arguments[1]||{},d=2):("object"!=typeof a&&"function"!=typeof a||null==a)&&(a={});d<s;++d)if(e=arguments[d],null!=e)for(n in e)t=a[n],u=e[n],a!==u&&(l&&u&&(i(u)||(c=o(u)))?(c?(c=!1,f=t&&o(t)?t:[]):f=t&&i(t)?t:{},a[n]=r(l,f,u)):"undefined"!=typeof u&&(a[n]=u));return a}},function(r,e){!function(){"use strict";var r={},n=function(e,n){r[e]=n};n("hex",function(){var r,e,n=function(n){r=n,e=0},t=function(){if(e>=r.length)return null;var n=parseInt(r.substring(e,e+2),16);return e+=2,n};return{begin:n,read:t}});var t=function(e){var n=r[e];return"function"==typeof n?n():n};e.register=n,e.get=t}()},function(r,e){!function(){"use strict";var r={},n=function(e,n){r[e]=n};n("hex",function(){var r=[],e=function(e){if("number"!=typeof e||e<0||e>255)throw"Invalid byte";if(0===e)r.push("00");else{var n=e.toString(16);n.length<2&&(n="0"+n),r.push(n)}},n=function(){return r.join("")};return{write:e,finish:n}});var t=function(e){var n=r[e];return"function"==typeof n?n():n};e.register=n,e.get=t}()},function(r,e){!function(){"use strict";var r=function(r,e){if(void 0===e)return String.hasOwnProperty("fromCodePoint")?String.fromCodePoint(r):String.fromCharCode(r);if(String.hasOwnProperty("fromCodePoint")){var n=65536+(r-55296<<10)+(e-56320);return String.fromCodePoint(n)}return String.fromCharCode(r)+String.fromCharCode(e)},n=function(e,n){for(var t,o=function(r){if(n.throwOnError)throw r;return"�"},i=[],u=e.read(),c=e.read(),f=null;null!==u;)null===c&&i.push(o("Odd number of bytes in byte stream (must be even for UTF-16)")),t=256*u+c,null!==f?(t<56320||t>57343?i.push(o("Surrogate code point not found when expected")):i.push(r(f,t)),f=null):t>=56320&&t<=57343?(i.push(o("Invalid code point (in high surrogate range)")),f=null):t>=55296&&t<=56319?f=t:(i.push(r(t)),f=null),u=e.read(),c=e.read();return null!==f&&i.push(o("High surrogate code point at end of byte stream (expected corresponding low surrogate code point)")),i.join("")},t=function(r,e){for(var n=function(r){e.write((65280&r)>>8),e.write(255&r)},t=0;t<r.length;t++){var o=r[t];if(o<65536)n(o);else{var i=o-65536,u=55296+(i>>10),c=56320+(1023&i);n(u),n(c)}}};e.decode=n,e.encode=t}()},function(r,e){!function(){"use strict";var r=function(r){if(String.hasOwnProperty("fromCodePoint"))return String.fromCodePoint(r);if(r>=65536){var e=r-65536,n=55296+(e>>10),t=56320+(1023&e);return String.fromCharCode(n)+String.fromCharCode(t)}return String.fromCharCode(r)},n=function(e,n){for(var t,o,i,u=[],c=e.read(),f=function(r){if(n.throwOnError)throw r;return"�"};null!==c;){if(c<128)u.push(r(c));else{192===(224&c)?(t=2,i=(31&c)<<6):224===(240&c)?(t=3,i=(15&c)<<12):240===(248&c)?(t=4,i=(7&c)<<18):u.push(f("Invalid leading byte"));for(var a=t-1;a>0;a--)o=e.read(),null===o?u.push(f("Unexpected end of byte stream")):128!==(192&o)?u.push(f("Invalid continuation byte")):i+=o-128<<6*(a-1);u.push(r(i))}c=e.read()}return u.join("")},t=function(r,e){for(var n=0;n<r.length;n++){var t=r[n];t<128?e.write(t):t<2048?(e.write(192+(t>>6)),e.write(128+(63&t))):t<65536?(e.write(224+(t>>12)),e.write(128+(t>>6&63)),e.write(128+(63&t))):(e.write(240+(t>>18)),e.write(128+(t>>12&63)),e.write(128+(t>>6&63)),e.write(128+(63&t)))}};e.decode=n,e.encode=t}()}])});